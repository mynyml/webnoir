<html>
  <head>
    <title>noir.core - Noir nil API documentation</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">Noir Docs</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <span class="toc-header"><span id="project-name">Noir</span> <span id="version"></span> API</span><br />
    <ul>
      <li><a class="wiki_link" href="index.html">Overview</a></li>
      <li><a class="wiki_link" href="api-index.html">API Index</a></li>
    </ul>
    <span class="toc-header">Namespaces</span>
    <ul id="left-sidebar-list">
      <li><a href="noir.cookies-api.html" class="wiki_link">noir.cookies</a></li><li><a href="noir.core-api.html" class="wiki_link">noir.core</a></li><li><a href="noir.exception-api.html" class="wiki_link">noir.exception</a></li><li><a href="noir.options-api.html" class="wiki_link">noir.options</a></li><li><a href="noir.request-api.html" class="wiki_link">noir.request</a></li><li><a href="noir.response-api.html" class="wiki_link">noir.response</a></li><li><a href="noir.server-api.html" class="wiki_link">noir.server</a></li><li><a href="noir.session-api.html" class="wiki_link">noir.session</a></li><li><a href="noir.statuses-api.html" class="wiki_link">noir.statuses</a></li><li><a href="noir.util.crypt-api.html" class="wiki_link">noir.util.crypt</a></li><li><a href="noir.util.gae-api.html" class="wiki_link">noir.util.gae</a></li><li><a href="noir.util.middleware-api.html" class="wiki_link">noir.util.middleware</a></li><li><a href="noir.util.s3-api.html" class="wiki_link">noir.util.s3</a></li><li><a href="noir.util.test-api.html" class="wiki_link">noir.util.test</a></li><li><a href="noir.validation-api.html" class="wiki_link">noir.validation</a></li>
    </ul>
    
    <a href="http://clojure.org" class="wiki_link">Clojure Home</a>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#noir.core/compojure-route">compojure-route</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#noir.core/custom-handler">custom-handler</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#noir.core/defpage">defpage</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#noir.core/defpartial">defpartial</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#noir.core/post-route">post-route</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#noir.core/pre-route">pre-route</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#noir.core/render">render</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#noir.core/url-for">url-for</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">noir.core</span>
  - <span id="header-project">Noir</span> <span id="header-version"></span> (<span id="header-status"></span>)
  </h1>

<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">noir.core</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">Functions to work with partials and pages.</pre>


<br />
<h2>Public Variables and Functions</h2>
<div id="var-entry">
  <br />
  <hr />
  <h2 id="noir.core/compojure-route">compojure-route</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compojure-route compojure-func)
</pre>
  <pre id="var-docstr">Adds a compojure route fn to the end of the route table. These routes are queried after
 those created by defpage and before the generic catch-all and resources routes.

These are primarily used to integrate generated routes from other libs into Noir.</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="noir.core/custom-handler">custom-handler</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (custom-handler &amp; args)
</pre>
  <pre id="var-docstr">Adds a handler to the end of the route table. This is equivalent to writing
a compojure route using noir's [:method route] syntax.

(custom-handler [:post "/login"] {:as req} (println "hello " req))
=&gt; (POST "/login" {:as req} (println "hello" req))

These are primarily used to interface with other handler generating libraries, i.e. async alpeh handlers.</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="noir.core/defpage">defpage</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defpage &amp; args)
</pre>
  <pre id="var-docstr">Adds a route to the server whose content is the the result of evaluating the body.
The function created is passed the params of the request and the destruct param allows
you to destructure that meaningfully for use in the body.

There are several supported forms:

(defpage "/foo/:id" {id :id})  an unnamed route
(defpage [:post "/foo/:id"] {id :id}) a route that responds to POST
(defpage foo "/foo:id" {id :id}) a named route
(defpage foo [:post "/foo/:id"] {id :id})

The default method is GET.</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="noir.core/defpartial">defpartial</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defpartial fname params &amp; body)
</pre>
  <pre id="var-docstr">Create a function that returns html using hiccup. The function is callable with the given name.</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="noir.core/post-route">post-route</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (post-route &amp; args)
</pre>
  <pre id="var-docstr">Adds a route to the end of the route table and passes the entire request to
be desctructured and used in the body. These routes are guaranteed to be
evaluated after those created by defpage and before the generic catch-all and
resources routes.</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="noir.core/pre-route">pre-route</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (pre-route &amp; args)
</pre>
  <pre id="var-docstr">Adds a route to the beginning of the route table and passes the entire request
to be destructured and used in the body. These routes are the only ones to make
an ordering gaurantee. They will always be in order of ascending specificity (e.g. /* ,
/admin/* , /admin/user/*) Pre-routes are usually used for filtering, like redirecting
a section based on privileges:

(pre-route '/admin/*' {} (when-not (is-admin?) (redirect '/login')))</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="noir.core/render">render</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (render route &amp; [params])
</pre>
  <pre id="var-docstr">Renders the content for a route by calling the page like a function
with the given param map. Accepts either '/vals' or [:post '/vals']</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="noir.core/url-for">url-for</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (url-for route-fn &amp; {:as arg-map})
</pre>
  <pre id="var-docstr">given a named route, i.e. (defpage foo "/foo/:id"), returns the url for the
route. If the route takes arguments, the second argument must be a
map of route arguments to values

(url-for foo :id 3) =&gt; "/foo/3" </pre>
  
  
  
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">No copyright info </div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>